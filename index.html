<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />

<title>FaceScan Locked üòàüíç</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">

<style>

/* ===== RESET ===== */
*{
  box-sizing:border-box;
  -webkit-tap-highlight-color:transparent;
}

body{
  margin:0;
  min-height:100vh;
  font-family:'Poppins',sans-serif;
  background:linear-gradient(135deg,#ff9a9e,#fad0c4);
  text-align:center;
  overflow:hidden;
  display:flex;
  flex-direction:column;
  align-items:center;
}

/* ===== HEADER ===== */
h1{
  margin:18px 10px 10px;
  font-size:1.7rem;
  color:#fff;
  text-shadow:0 3px 8px rgba(0,0,0,.25);
}

/* ===== CARD ===== */
.card{
  background:#fff;
  width:90%;
  max-width:360px;
  padding:22px 18px;
  border-radius:24px;
  box-shadow:0 15px 35px rgba(0,0,0,.25);
  margin-top:10px;
}

.card p{
  font-size:1.05rem;
  margin-bottom:15px;
  color:#333;
}

.d img{
  width:300px;
  height:250px;
  border-radius:15px;
  margin-bottom:10px;
}

/* ===== BUTTONS ===== */
button{
  width:100%;
  padding:15px;
  margin:7px 0;
  font-size:1rem;
  border:none;
  border-radius:40px;
  cursor:pointer;
  transition:.2s;
}

button:active{
  transform:scale(.96);
}

.yes{
  background:linear-gradient(135deg,#ff4d6d,#ff758f);
  color:#fff;
  font-weight:600;
  box-shadow:0 5px 15px rgba(255,77,109,.4);
}

/* ===== NO BUTTON ===== */
.no{
  background:#111;
  color:#fff;
  position:fixed;
  z-index:10;

  width:130px;
  height:45px;

  border-radius:25px;
  font-size:.9rem;

  display:flex;
  align-items:center;
  justify-content:center;

  left:50%;
  top:75%;
  transform:translate(-50%,-50%);
}

/* ===== STATUS ===== */
#status{
  margin-top:12px;
  font-size:.95rem;
  color:#fff;
  text-shadow:0 2px 6px rgba(0,0,0,.2);
}

/* ===== POP IMAGES ===== */
.pop-img{
  position:fixed;
  width:90px;
  height:90px;
  object-fit:cover;
  border-radius:14px;
  animation:pop .35s ease;
  z-index:20;
}

@keyframes pop{
  from{transform:scale(0) rotate(-15deg)}
  to{transform:scale(1) rotate(5deg)}
}

/* ===== FACE SCAN ===== */
#scan{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.88);
  display:none;
  color:#0f0;
  z-index:999;
  text-align:center;
  padding-top:60px;
}

.scan-box{
  width:200px;
  height:260px;
  border:3px solid #0f0;
  margin:25px auto;
  position:relative;
  border-radius:12px;
}

.scan-line{
  position:absolute;
  width:100%;
  height:3px;
  background:#0f0;
  animation:scan 1.6s infinite;
}

@keyframes scan{
  from{top:0}
  to{top:100%}
}

/* ===== RING ===== */
#ring{
  position:fixed;
  top:-200px;
  left:50%;
  transform:translateX(-50%);
  font-size:80px;
  display:none;
  animation:ringDrop 2s forwards;
  z-index:998;
}

@keyframes ringDrop{
  70%{top:45%}
  85%{top:40%}
  100%{top:43%}
}

</style>
</head>

<body>

<h1>Janhvi‚Ä¶ don‚Äôt fight it üòàüíò</h1>

<div class="card">

  <p>Make Dhruv yours this Valentine üíñ</p>

  <div class="d">
    <img src="dhruv.jpeg" alt="">
  </div>

  <button class="yes" onclick="accept()">üíï Claim Dhruv</button>
  <button class="yes" onclick="accept()">üòå Still Claim Dhruvv</button>

</div>

<button class="no" id="noBtn">üôÑ No</button>

<h3 id="status">Decision pending‚Ä¶</h3>


<!-- Face Scan -->
<div id="scan">

  <h3>Face Scan Running‚Ä¶</h3>

  <div class="scan-box">
    <div class="scan-line"></div>
  </div>

  <p id="scanText">Initializing‚Ä¶</p>

</div>

<div id="ring">üíç</div>


<!-- BACKGROUND SONG -->
<audio id="bgSong" preload="auto" loop>
  <source src="everybreathyoutake.mp3" type="audio/mpeg">
</audio>


<script>

/* ===== CONFIG ===== */

const herPics=["janhvi1.jpeg","janhvi2.jpeg","janhvi3.jpeg"];
const myPics=["dhruv.jpeg"];
const memes=[
 "https://media.giphy.com/media/JIX9t2j0ZTN9S/giphy.gif"
];


/* ===== AUDIO ===== */

let audioCtx;
let fadeInterval;

function initAudio(){
 if(!audioCtx){
   audioCtx=new (window.AudioContext||window.webkitAudioContext)();
 }
}

/* Fade In Song */
function fadeInSong(){

 const song=document.getElementById("bgSong");

 song.volume=0;
 song.play().catch(()=>{});

 clearInterval(fadeInterval);

 fadeInterval=setInterval(()=>{

  if(song.volume<0.6){
    song.volume+=0.05;
  }else{
    clearInterval(fadeInterval);
  }

 },200);
}


/* Boost Volume */
function boostSong(){

 const song=document.getElementById("bgSong");

 clearInterval(fadeInterval);

 fadeInterval=setInterval(()=>{

  if(song.volume<1){
    song.volume+=0.04;
  }else{
    clearInterval(fadeInterval);
  }

 },150);
}


function beep(freq=900,dur=120){

 if(!audioCtx) return;

 const o=audioCtx.createOscillator();
 const g=audioCtx.createGain();

 o.frequency.value=freq;

 o.connect(g);
 g.connect(audioCtx.destination);

 o.start();

 g.gain.setValueAtTime(.2,audioCtx.currentTime);
 g.gain.exponentialRampToValueAtTime(
  .001,
  audioCtx.currentTime+dur/1000
 );

 o.stop(audioCtx.currentTime+dur/1000);
}

function evilLaugh(){

 const a=new Audio(
  "https://media.giphy.com/media/l0HlQ7LRalQqdWfao/giphy.mp3"
 );

 a.volume=.6;
 a.play().catch(()=>{});
}


/* ===== VIBRATION ===== */

function vibrate(p){
 if(navigator.vibrate)
  navigator.vibrate(p);
}


/* ===== NO BUTTON RUN ===== */

const noBtn=document.getElementById("noBtn");

function runAway(){

 const btnW=noBtn.offsetWidth;
 const btnH=noBtn.offsetHeight;

 const maxX=window.innerWidth-btnW-20;
 const maxY=window.innerHeight-btnH-20;

 const x=Math.random()*maxX;
 const y=Math.random()*maxY;

 noBtn.style.left=x+"px";
 noBtn.style.top=y+"px";

 vibrate([40,30,40]);
}

noBtn.addEventListener("touchstart",runAway);
noBtn.addEventListener("mouseover",runAway);
noBtn.onclick=accept;


/* ===== MAIN ===== */

function accept(){

 initAudio();

 // Start music üòèüíñ
 fadeInSong();

 startScan();
}


function startScan(){

 const scan=document.getElementById("scan");
 const text=document.getElementById("scanText");

 scan.style.display="block";

 vibrate([80,40,80]);

 const msgs=[
  "Face detected üòè",
  "Smile confirmed üòä",
  "Heart rate ‚Üë üíì",
  "Escape chance: 0%",
  "Compatibility: 99.9% üíñ"
 ];

 let i=0;

 const t=setInterval(()=>{

  text.innerText=msgs[i++];

  beep(800+Math.random()*300,120);

  popRandomImage();

  vibrate(40);

  if(i===msgs.length){

   clearInterval(t);

   setTimeout(finish,900);
  }

 },650);
}


function finish(){

 document.getElementById("scan").style.display="none";

 document.getElementById("status").innerText=
 "MATCH CONFIRMED üîí Dhruv is yours üòàüíñ";

 document.getElementById("ring").style.display="block";

 evilLaugh();

 // Boost music üíçüî•
 boostSong();

 vibrate([120,60,120,60,200]);

 let spam=setInterval(popRandomImage,450);

 setTimeout(()=>clearInterval(spam),5000);
}


/* ===== POP IMAGES ===== */

function popRandomImage(){

 const img=document.createElement("img");

 const all=[...herPics,...myPics,...memes];

 if(all.length===0) return;

 img.src=all[Math.floor(Math.random()*all.length)];

 img.className="pop-img";

 img.style.top=Math.random()*70+"%";
 img.style.left=Math.random()*70+"%";

 document.body.appendChild(img);

 setTimeout(()=>img.remove(),3200);
}

</script>

</body>
</html>
